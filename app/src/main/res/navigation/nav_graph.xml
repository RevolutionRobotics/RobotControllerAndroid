<?xml version="1.0" encoding="utf-8"?>
<navigation xmlns:android="http://schemas.android.com/apk/res/android"
            xmlns:app="http://schemas.android.com/apk/res-auto"
            android:id="@+id/nav_graph" app:startDestination="@id/mainMenuFragment">

    <!-- Main menu -->
    <fragment android:id="@+id/mainMenuFragment"
              android:name="com.revolution.robotics.features.mainmenu.MainMenuFragment"
              android:label="MainMenuFragment">
        <action android:id="@+id/toCoding"
                app:destination="@id/codingFragment"/>
        <action android:id="@+id/toChallengeList"
                app:destination="@id/challengeGroupFragment"/>
        <action android:id="@+id/toMyRobots"
                app:destination="@id/myRobotsFragment"/>
        <action android:id="@+id/toCommunity"
                app:destination="@id/placeholder_community"/>
        <action android:id="@+id/toSettings"
                app:destination="@id/settingFragment"/>
    </fragment>

    <!-- My robots -->
    <fragment android:id="@+id/myRobotsFragment"
              android:name="com.revolution.robotics.features.myRobots.MyRobotsFragment"
              android:label="MyRobotsFragment">
        <action android:id="@+id/toWhoToBuild"
                app:destination="@id/whoToBuildFragment"/>
        <action android:id="@+id/toBuildRobot"
                app:destination="@id/buildRobotFragment"/>
        <action android:id="@+id/toConfigure"
                app:destination="@id/configureFragment"/>
        <action android:id="@+id/toPlayGamer"
                app:destination="@id/playGamerFragment"/>
        <action android:id="@+id/toPlayMultitasker"
                app:destination="@id/playMultitaskerFragment"/>
        <action android:id="@+id/toPlayDriver"
                app:destination="@id/playDriverFragment"/>
    </fragment>

    <!-- Build -->
    <fragment android:id="@+id/whoToBuildFragment"
              android:name="com.revolution.robotics.features.whoToBuild.WhoToBuildFragment"
              android:label="WhoToBuildFragment">
        <action android:id="@+id/toBuildRobot"
                app:destination="@id/buildRobotFragment"/>
        <action android:id="@+id/toConfigure"
                app:destination="@id/configureFragment"/>
    </fragment>

    <fragment android:id="@+id/buildRobotFragment"
              android:name="com.revolution.robotics.features.build.BuildRobotFragment"
              android:label="BuildRobotFragment">
        <argument app:argType="com.revolution.robotics.core.domain.local.UserRobot"
                  android:name="robot"/>
        <action android:id="@+id/toPlayMultitasker"
                app:destination="@id/playMultitaskerFragment" app:popUpTo="@+id/myRobotsFragment"/>
        <action android:id="@+id/toPlayDriver"
                app:destination="@id/playDriverFragment" app:popUpTo="@+id/myRobotsFragment"/>
        <action android:id="@+id/toPlayGamer"
                app:destination="@id/playGamerFragment" app:popUpTo="@+id/myRobotsFragment"/>
    </fragment>

    <!-- Coding -->
    <fragment android:id="@+id/codingFragment"
              android:name="com.revolution.robotics.features.coding.CodingFragment"
              android:label="CodingFragment"/>

    <!-- Play -->
    <fragment android:id="@+id/playGamerFragment"
              android:name="com.revolution.robotics.features.play.instances.PlayGamerFragment"
              android:label="PlayGamerFragment"/>
    <fragment android:id="@+id/playMultitaskerFragment"
              android:name="com.revolution.robotics.features.play.instances.PlayMultitaskerFragment"
              android:label="PlayMultitaskerFragment"/>
    <fragment android:id="@+id/playDriverFragment"
              android:name="com.revolution.robotics.features.play.instances.PlayDriverFragment"
              android:label="PlayDriverFragment"/>

    <!-- Challenges -->
    <fragment android:id="@+id/challengeGroupFragment"
              android:name="com.revolution.robotics.features.challenges.challengeGroup.ChallengeGroupFragment"
              android:label="ChallengeListFragment">
        <action android:id="@+id/toChallengeList"
                app:destination="@id/challengeListFragment"/>
    </fragment>

    <!-- Configure -->
    <fragment android:id="@+id/configureFragment"
              android:name="com.revolution.robotics.features.configure.ConfigureFragment"
              android:label="ConfigureFragment">
        <argument android:name="userRobot" app:argType="com.revolution.robotics.core.domain.local.UserRobot"/>

        <action android:id="@+id/toControllerTypeSelector"
                app:destination="@id/controllerTypeSelectorFragment"/>
        <action android:id="@+id/toSetupDriver"
                app:destination="@id/setupDriverFragment"/>
        <action android:id="@+id/toSetupGamer"
                app:destination="@id/setupGamerFragment"/>
        <action android:id="@+id/toSetupMultitasker"
                app:destination="@id/setupMultitaskerFragment"/>
    </fragment>

    <!-- Controller setup -->
    <fragment android:id="@+id/controllerTypeSelectorFragment"
              android:name="com.revolution.robotics.features.controllers.typeSelector.TypeSelectorFragment"
              android:label="ControllerTypeSelectorFragment">

        <action android:id="@+id/toSetupGamer"
                app:destination="@id/setupGamerFragment"/>
        <action android:id="@+id/toSetupMultitasker"
                app:destination="@id/setupMultitaskerFragment"/>
        <action android:id="@+id/toSetupDriver"
                app:destination="@id/setupDriverFragment"/>
    </fragment>

    <fragment android:id="@+id/setupGamerFragment"
              android:name="com.revolution.robotics.features.controllers.setup.instances.SetupGamerFragment"
              android:label="SetupGamerFragment">
        <argument android:name="controllerId"
                  app:argType="integer"/>
        <action android:id="@+id/toProgramSelectorFragment"
                app:destination="@id/program_selector"/>
        <action android:id="@+id/toButtonlessProgramSelectorFragment"
                app:destination="@id/buttonlessProgramSelectorFragment"/>
    </fragment>
    <fragment android:id="@+id/setupMultitaskerFragment"
              android:name="com.revolution.robotics.features.controllers.setup.instances.SetupMultitaskerFragment"
              android:label="SetupMultitaskerFragment">
        <argument android:name="controllerId"
                  app:argType="integer"/>
        <action android:id="@+id/toProgramSelectorFragment"
                app:destination="@id/program_selector"/>
        <action android:id="@+id/toButtonlessProgramSelectorFragment"
                app:destination="@id/buttonlessProgramSelectorFragment"/>
    </fragment>
    <fragment android:id="@+id/setupDriverFragment"
              android:name="com.revolution.robotics.features.controllers.setup.instances.SetupDriverFragment"
              android:label="SetupDriverFragment">
        <argument android:name="controllerId"
                  app:argType="integer"/>
        <action android:id="@+id/toProgramSelectorFragment"
                app:destination="@id/program_selector"/>
        <action android:id="@+id/toButtonlessProgramSelectorFragment"
                app:destination="@id/buttonlessProgramSelectorFragment"/>
    </fragment>
    <fragment android:id="@+id/program_selector"
              android:name="com.revolution.robotics.features.controllers.programSelector.ProgramSelectorFragment"
              android:label="ProgramSelectorFragment "/>

    <!-- Settings -->
    <fragment android:id="@+id/settingFragment"
              android:name="com.revolution.robotics.features.mainmenu.settings.SettingsFragment"
              android:label="SettingsFragment">
        <action android:id="@+id/toAboutFragment" app:destination="@id/aboutFragment"/>
        <action android:id="@+id/toFirmwareFragment" app:destination="@id/firmwareFragment"/>
    </fragment>
    <fragment android:id="@+id/aboutFragment"
              android:name="com.revolution.robotics.features.mainmenu.settings.about.AboutFragment"
              android:label="AboutFragment"/>
    <fragment android:id="@+id/firmwareFragment"
              android:name="com.revolution.robotics.features.mainmenu.settings.firmware.FirmwareFragment"
              android:label="FirmwareFragment"/>

    <!-- Other -->
    <fragment android:id="@+id/placeholder_robotics"/>
    <fragment android:id="@+id/placeholder_community"/>
    <fragment android:id="@+id/buttonlessProgramSelectorFragment"
              android:name="com.revolution.robotics.features.controllers.buttonless.ButtonlessProgramSelectorFragment"
              android:label="ButtonlessProgramSelectorFragment">
        <action android:id="@+id/toProgramPriorityFragment"
                app:destination="@id/programPriorityFragment"/>
    </fragment>
    <fragment android:id="@+id/programPriorityFragment"
              android:name="com.revolution.robotics.features.configure.controller.program.priority.ProgramPriorityFragment"
              android:label="ProgramPriorityFragment"/>
    <fragment android:id="@+id/challengeListFragment"
              android:name="com.revolution.robotics.features.challenges.challengeList.ChallengeListFragment"
              android:label="ChallengeListFragment">
        <argument app:argType="com.revolution.robotics.core.domain.remote.ChallengeCategory"
                  android:name="challenge"/>
    </fragment>
</navigation>
